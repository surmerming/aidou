<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
	<title>爱豆-中国第一粉丝娱乐平台</title>
	<link rel="stylesheet" href="css/wap.css" />
</head>
<body>
<div class="idol-vote-container">
	<img src="images/wap/bg.png" class="idol-page-bg" />
	<img src="images/wap/star_portrait_bg.png" class="idol-vote-star-bg">
	<img src="images/wap/star_portrait.png" class="idol-wap-star-portrait" />
	<div class="idol-wap-star-name">少女时代</div>
	<a class="idol-wap-down-btn" onclick="if(/iPad|iPhone|iPod/i.test(navigator.userAgent)){location.href='http://click.hm.baidu.com/app.gif?ap=199824&amp;ch=23213'}else{location.href='http://click.hm.baidu.com/app.gif?ap=104915&amp;ch=22267'}return false;" href="https://itunes.apple.com/cn/app/ai-dou/id897899269">
		<img src="images/wap/download_btn.png" />
	</a>
</div>	
<script type="text/javascript">

	function getWindowWidth(){
        return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        // return window.screen.width;
    }
	function adapter (el) {
		var styleObject = getStyleObject(el);	
		arr.push({height: styleObject.height, width: styleObject.width, left: styleObject.left, top: styleObject.top, fontSize: styleObject.fontSize});	
		el.style.height = getSize(styleObject.height) * scale + "px";
		el.style.width = getSize(styleObject.width) * scale + "px";
		el.style.left = getSize(styleObject.left) * scale + "px";
		el.style.top = getSize(styleObject.top) * scale + "px";
		el.style.fontSize = getSize(styleObject.fontSize) * scale + "px";
		
	}
	function adapterBottom(el){
		var styleObject = getStyleObject(el);	
		arr.push({height: styleObject.height});
		el.style.height = getSize(styleObject.height) * scale + "px";
	}
	function adapterResize (el, index) {
		el.style.height = getSize(arr[index].height) * scale + "px";
		el.style.width = getSize(arr[index].width) * scale + "px";
		el.style.left = getSize(arr[index].left) * scale + "px";
		el.style.top = getSize(arr[index].top) * scale + "px";
		el.style.fontSize = getSize(arr[index].fontSize) * scale + "px";
	}
	function adapterBottomResize(el, index){
		el.style.height = getSize(arr[index].height) * scale + "px";
	}

	function getStyleObject(el){
		return  el.currentStyle != null ? el.currentStyle : getComputedStyle(el, false);
	}
	function getSize(attr){
		return attr.substr(0, attr.indexOf("px"));
	}
	
	var windowWidth = 720;
	var scale = 1;
	var arr = [];

	var voteStarBgEl = document.getElementsByClassName('idol-vote-star-bg')[0];
	var starPortraitEl = document.getElementsByClassName('idol-wap-star-portrait')[0];
	var starNameEl = document.getElementsByClassName('idol-wap-star-name')[0];

	var downloadBtnEl = document.getElementsByClassName('idol-wap-down-btn')[0];

	init();

	function init(){
		windowWidth = getWindowWidth();
		scale = windowWidth / 720;

		adapter(voteStarBgEl);
		adapter(starPortraitEl);
		adapter(starNameEl);
		adapterBottom(downloadBtnEl);
	}
	

	window.onresize = function(){
		windowWidth = getWindowWidth();
		scale = windowWidth / 720;

		adapterResize(voteStarBgEl, 0);
		adapterResize(starPortraitEl, 1);
		adapterResize(starNameEl, 2);
		adapterBottomResize(downloadBtnEl, 3);
	};

	
</script>
</body>
</html>